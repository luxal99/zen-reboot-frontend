<div class="dialog">
  <div class="row">
    <div class="col-6">
      <h1><b>Dodavanje korisnika</b></h1>
    </div>
    <div class="col-6 text-right">
      <button mat-dialog-close mat-fab color="primary">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <app-form-input [config]="usernameInputConfig" [model]="data ? data.username :null" [group]="userForm"
                  label="Korisničko ime"></app-form-input>
  <app-form-select [isMultiple]="true" *ngIf="!data" [config]="rolesSelectConfig" [group]="userForm"
                   label="Privilegije"></app-form-select>
  <div class="row">
    <div class="col-6" style="padding-left: 0">
      <app-form-input [config]="firstNameInputConfig" [model]="data ? data.staff?.person?.firstName:null"
                      [group]="userForm" label="Ime"></app-form-input>
    </div>
    <div class="col-6" style="padding-right: 0">
      <app-form-input [config]="lastNameInputConfig" [model]="data ? data.staff?.person?.lastName:null"
                      [group]="userForm" label="Prezime"></app-form-input>
    </div>
  </div>
  <app-form-input [config]="emailInputConfig" [model]="data ? (data.staff?.person | staffEmail)  :null" [group]="userForm"
                  label="Email"></app-form-input>
  <form [formGroup]="userForm">
    <mat-form-field appearance="outline">
      <mat-label>Boja</mat-label>
      <input matInput formControlName="color" [ngModel]="data ?data.staff?.color :''" [ngxMatColorPicker]="picker">
      <ngx-mat-color-toggle matSuffix [for]="picker"></ngx-mat-color-toggle>
      <ngx-mat-color-picker #picker></ngx-mat-color-picker>
    </mat-form-field>
  </form>
  <button mat-button class="default-btn" (click)="save()">Sačuvaj</button>
  <mat-spinner #spinner diameter="25"></mat-spinner>
</div>
