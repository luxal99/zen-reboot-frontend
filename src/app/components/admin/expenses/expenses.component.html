<div class="component-content">
  <div class="row">
    <div class="col">
      <form [formGroup]="expenseFilterForm">
        <mat-form-field appearance="outline" class="example-form-field">
          <mat-label>Å½eljeni datumi</mat-label>
          <mat-date-range-input [rangePicker]="rangePicker">
            <input matStartDate placeholder="Start date" formControlName="startDate">
            <input matEndDate placeholder="End date" formControlName="endDate">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="rangePicker"></mat-datepicker-toggle>
          <mat-date-range-picker #rangePicker>
            <mat-date-range-picker-actions>
              <button mat-button style="width: 100%;" class="border-btn" (click)="getExpensesFromRange()"
                      matDateRangePickerApply>
                Filtriraj
              </button>
            </mat-date-range-picker-actions>
          </mat-date-range-picker>
        </mat-form-field>
      </form>
    </div>
    <div class="col text-right">
      <button class="default-btn" mat-button (click)="openAddExpenseDialog()">Dodaj</button>
    </div>
  </div>
  <div class="text-right">
    <app-paginator [showNext]="hasResponse" (next)="getNext()" (prev)="getPrevious()"></app-paginator>
  </div>

  <mat-spinner #spinner diameter="50"></mat-spinner>
  <table mat-table [dataSource]="listOfItems" class="mat-elevation-z8">

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Naziv</th>
      <td mat-cell *matCellDef="let element" (click)="openAddExpenseDialog(element)"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef> Datum valute</th>
      <td mat-cell *matCellDef="let element"
          (click)="openAddExpenseDialog(element)"> {{element.date | date}} </td>
    </ng-container>

    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef> Tip</th>
      <td mat-cell *matCellDef="let element"
          (click)="openAddExpenseDialog(element)"> {{element.type.name | capitalize}} </td>
    </ng-container>

    <ng-container matColumnDef="value">
      <th mat-header-cell *matHeaderCellDef> Vrednost</th>
      <td mat-cell *matCellDef="let element" (click)="openAddExpenseDialog(element)"> {{element.value}} </td>
    </ng-container>

    <ng-container matColumnDef="option">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let element">
        <button mat-button color="warn" (click)="subscribeDelete(element.id,expenseService,getExpenses)"><i
          class="fa fa-trash"></i></button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>


</div>
