<div class="component-content">
  <div class="row">
    <div class="col-sm">
      <form [formGroup]="searchForm">
        <mat-form-field appearance="outline">
          <mat-label>Pretra≈æi</mat-label>
          <input matInput type="text" formControlName="search" [(ngModel)]="searchText">
          <mat-icon matPrefix>search</mat-icon>
        </mat-form-field>
      </form>
    </div>
    <div class="col-sm">

      <div class="text-right">
        <div class="inline week-filter-div">
          <div class="column left" (click)="previousWeek()">
            <h3><i class="fa fa-angle-left" aria-hidden="true"></i></h3>
          </div>
          <div class="mid-column">
            <h3>
              <b>{{startDate.date() + '-' + endDate.date() + ' ' + endDate.format('MMMM') + ', ' + endDate.year()}}</b>
            </h3>
          </div>
          <div class="column right" (click)="nextWeek()">
            <h3><i class="fa fa-angle-right" aria-hidden="true"></i></h3>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div>

    <div class="inline header-row" >
      <div class="col">
        <h3><b>Zaposleni</b></h3>
      </div>
      <div class="col date-header" *ngFor="let date of daysInWeek">
        <h4><b>{{ date.day(date.day).format('dddd') + ' ' + date.date()}}</b></h4>
      </div>
    </div>
    <mat-spinner #spinner diameter="50"></mat-spinner>
    <div class="scheduled-binding-div">
      <div class="row" *ngFor="let scheduled of listOfScheduled|staff:searchText">
        <div class="col full-name-col" [style.color]="scheduled.color">
          <div class="inline staff-name-div">
            <span [style.background-color]="scheduled.color" class="staff-badge"></span>
            <h3 style="color: #121212">{{scheduled.person?.firstName + ' ' + scheduled.person?.lastName}}</h3>
          </div>
        </div>
        <div class="col-sm white-col"
             (click)="openAddShiftDialog(scheduled,date.format('DD MMMM YYYY'),getShiftByDate(date, scheduled.person))"
             *ngFor="let date of daysInWeek">
          <h3 class="shift-time-h3 text-center"
              [ngStyle]="getShiftByDate(date, scheduled.person)  ?
              {'background-color':scheduled.color,'padding':'.25em','border-radius':'5px','color':'#fff'}
              :{'background-color':'#fff'}">
            {{ shiftPerStaff ? shiftPerStaff.startTime.slice(0, shiftPerStaff.startTime.length - 3) + '-' +
            this.shiftPerStaff.endTime.slice(0, shiftPerStaff.endTime.length - 3) : '' }}
          </h3>
        </div>
      </div>
    </div>
  </div>
</div>
