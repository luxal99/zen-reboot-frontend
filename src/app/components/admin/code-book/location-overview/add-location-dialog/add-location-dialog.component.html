<div class="dialog">
  <h1><b>Dodaj lokaciju</b></h1>
  <mat-divider></mat-divider>
  <h3>Podaci o lokaciji</h3>
  <app-form-input [group]="locationForm" [config]="nameInputConfig" [model]="data ? data.name:null"
                  label="Naziv lokacije"></app-form-input>
  <h3>Adresa lokacije</h3>
  <div class="row">
    <div class="col-9 left">
      <app-form-input [model]="data ? data.address?.street:null" [group]="addressForm" [config]="streetInputConfig"
                      label="Ulica"></app-form-input>
    </div>
    <div class="col-3 right">
      <app-form-input [model]="data ? data.address?.number:null" [group]="addressForm" [config]="streetNumberInputConfig"
                      label="Broj"></app-form-input>
    </div>
  </div>
  <app-form-select label="Grad" [config]="citySelectConfig" [model]="data ?data.address?.city : null"
                   [group]="addressForm"></app-form-select>
  <div *ngIf="data">
    <h3>Sobe</h3>
    <div class="row">
      <div class="col-8 left">
        <app-form-input [group]="roomForm" [config]="nameInputConfig" label="Naziv sobe"></app-form-input>
      </div>
      <div class="col-4 text-center right">
        <button (click)="addRoom()" [disabled]="!roomForm.valid" mat-icon-button>
          <mat-icon>add</mat-icon>
        </button>
        <button (click)="editRoom()" [disabled]="!roomForm.valid" mat-icon-button>
          <mat-icon>edit</mat-icon>
        </button>
      </div>
    </div>
    <div class="room-div">
      <div  class="row room-row" *ngFor="let room of data.rooms">
        <div class="col-6" (click)="selectRoom(room)">
          <h4><span>Naziv:</span> {{room.name}}</h4>
        </div>
        <div class="col-6">
          <button mat-button color="warn" (click)="removeRoom(room)"><i class="fa fa-trash"></i></button>
        </div>
      </div>
    </div>
  </div>
  <button mat-button class="default-btn" (click)="save()" [disabled]="!addressForm.valid || !locationForm.valid">Saƒçuvaj
  </button>
  <mat-spinner #spinner diameter="50"></mat-spinner>

</div>
