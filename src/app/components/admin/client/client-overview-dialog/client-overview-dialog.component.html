<div class="dialog">
  <div class="text-right">
    <button mat-dialog-close mat-icon-button>
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div class="container">
    <div class="inline">
      <div class="column-4">
        <div class="circle">
          <h1>{{data.person?.firstName.slice(0, 1)}}</h1>
        </div>
        <h1 class="text-center"><b>{{data.person?.firstName + ' ' + data.person?.lastName}}</b></h1>
        <div class="text-center">
          <button mat-button class="default-btn" (click)="openAddAppointmentDialog()">Dodaj tretman</button>
        </div>
        <div class="paragraf-div">
          <p [innerHTML]="data.notes"></p>
        </div>
        <mat-divider></mat-divider>
        <div class="paragraf-div">
          <h4 class="silver">Kontakt telefon</h4>
          <h3>{{mobilePhone.prefix + ' ' + mobilePhone.value}}</h3>
          <h4 class="silver">Pol</h4>
          <h3>{{data?.gender | capitalize}}</h3>
        </div>
      </div>
      <div class="column-6">
        <div class="header">
          <h4 class="silver">
            Ukupno
          </h4>
          <h1><b>RSD {{total}}</b></h1>
          <div class="inline">
            <div class="column">
              <h4 class="silver">Broj izvr≈°enih</h4>
              <h1>{{numberOfCompleted}}</h1>
            </div>
            <div class="column">
              <h4 class="silver">Broj otkazanih</h4>
              <h1>{{numberOfCanceled}}</h1>
            </div>
          </div>
        </div>
        <div class="tab-div">
          <mat-tab-group mat-stretch-tabs animationDuration="300ms" dynamicHeight>
            <mat-tab label="Istorija tretmana">
              <div class="tab-content">
                <div class="row treatment-client-card" (click)="openAppointmentOverviewDialog(appointment)"
                     *ngFor="let appointment of listOfAppointments">
                  <div class="col-sm-2">
                    <h1>{{appointment.date.get('date')}}</h1>
                    <h2 style="line-height: 5px">{{appointment.date.format('MMMM')}}</h2>
                  </div>
                  <div class="col-sm">
                    <h4 class="silver">{{appointment.date.format('dddd')}} {{appointment.startTime}}</h4>
                    <h3>{{appointment.treatment.name}}</h3>
                  </div>
                  <div class="col-sm-3">
                    <h2><b>RSD {{appointment.price}}</b></h2>
                  </div>
                </div>
              </div>
            </mat-tab>
            <mat-tab label="Fakture">
              <div class="tab-content">
                <div class="row invoice-row" (click)="openInvoiceOverviewDialog(invoice)"
                     *ngFor="let invoice of listOfInvoices">
                  <div class="col-sm-2">
                    <h1>{{invoice.date.get('date')}}</h1>
                    <h2 style="line-height: 5px">{{invoice.date.format('MMMM')}}</h2>
                  </div>
                  <div class="col-sm">
                    <h4 class="silver">Status</h4>
                    <h3>{{invoice.invoiceStatus.name | capitalize}}</h3>
                  </div>
                  <div class="col-sm text-right">
                    <h2><b>RSD {{invoice.gross}}</b></h2>
                  </div>
                </div>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </div>
  </div>

</div>
