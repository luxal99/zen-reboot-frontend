<div class="component-content">
  <div class=" text-right">
    <div class="text-center">
      <h2><b>{{currentDate.format('DD MMMM YYYY')}}</b></h2>
    </div>

  </div>
  <mat-tab-group dynamicHeight>
    <mat-tab label="Nedeljni pregled ">
      <form [formGroup]="searchForm">
        <mat-form-field appearance="outline">
          <mat-label>Pretraži</mat-label>
          <input matInput formControlName="search" [(ngModel)]="searchText">
          <mat-icon matSuffix>search</mat-icon>
        </mat-form-field>
      </form>
      <app-table-binding [dataSource]="listOfCurrentWeekInvoices|invoice:searchText"></app-table-binding>
      <div class="text-right">
        <h2 style="margin-top: 1em"><b>{{listOfCurrentWeekInvoices|sumGross}} RSD</b></h2>
      </div>
    </mat-tab>
    <mat-tab label="Dnevni pregled ">
      <div class="table-wrapper">
        <app-table-binding [dataSource]="listOfCurrentDayInvoices"></app-table-binding>
      </div>
      <div class="text-right">
        <h2 style="margin-top: 1em"><b>{{listOfCurrentDayInvoices|sumGross}} RSD</b></h2>
      </div>
    </mat-tab>
    <mat-tab label="Prilagođeno ">
      <form style="margin-top: 2em" [formGroup]="invoiceFilterForm">
        <mat-form-field appearance="outline" class="example-form-field">
          <mat-label>Željeni datumi</mat-label>
          <mat-date-range-input [rangePicker]="rangePicker">
            <input matStartDate placeholder="Start date" formControlName="startDate">
            <input matEndDate placeholder="End date" formControlName="endDate">
          </mat-date-range-input>
          <mat-datepicker-toggle matSuffix [for]="rangePicker"></mat-datepicker-toggle>
          <mat-date-range-picker #rangePicker>
            <mat-date-range-picker-actions>
              <button mat-button style="width: 100%;" class="border-btn" (click)="getDateFromRange()"
                      matDateRangePickerApply>
                Filtriraj
              </button>
            </mat-date-range-picker-actions>
          </mat-date-range-picker>
        </mat-form-field>

      </form>
      <div class="table-wrapper">
        <app-table-binding [dataSource]="listOfFilteredInvoices"></app-table-binding>
      </div>
      <div class="text-right">
        <h2 style="margin-top: 1em"><b>{{listOfFilteredInvoices|sumGross}} RSD</b></h2>
      </div>
    </mat-tab>
  </mat-tab-group>
  <mat-spinner #spinner diameter="50"></mat-spinner>
</div>
